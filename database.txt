CREATE TABLE users (
id int(11) NOT NULL PRIMARY KEY AUTO_INCREMENT,
firstname varchar(32) NOT NULL,
lastname varchar(32) NOT NULL,
email varchar(64) NOT NULL,
contact_number varchar(64) NOT NULL,
address text NOT NULL,
password varchar(512) NOT NULL,
access_level varchar(16) NOT NULL,
access_code text NOT NULL,
status int(11) NOT NULL COMMENT '0=pending,1=confirmed',
created datetime NOT NULL,
modified timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
)


CREATE TABLE categories(
category_id int(11) NOT NULL PRIMARY KEY AUTO_INCREMENT,
category_name varchar(50) NOT NULL
)

CREATE TABLE posts(
post_id int(11) NOT NULL PRIMARY KEY AUTO_INCREMENT,
id int(11) NOT NULL,
category_id int(11) NOT NULL,
post_title text NOT NULL,
post_content text NOT NULL,
post_created datetime NOT NULL,
post_modified timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY(id) REFERENCES users(id),
FOREIGN KEY(category_id) REFERENCES categories(category_id)
)

CREATE TABLE comments(
id int(11) NOT NULL,
post_id int(11) NOT NULL,
comment_content text NOT NULL,
comment_created datetime NOT NULL,
comment_modified timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY (id) REFERENCES users(id),
FOREIGN KEY (post_id) REFERENCES posts(post_id)
)
